# ğŸ“¡ Ğ¯ ĞĞš + MeshGram â€” Ğ¢ĞµÑ…Ğ½Ñ–Ñ‡Ğ½Ğ° Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ MVP

**Ğ’ĞµÑ€ÑÑ–Ñ:** 1.0.0  
**Ğ”Ğ°Ñ‚Ğ°:** Ğ¡Ñ–Ñ‡ĞµĞ½ÑŒ 2026  
**ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°:** Poruch Studio  

---

## ğŸ¯ ĞšĞ»ÑÑ‡Ğ¾Ğ²Ğ° Ñ–Ğ´ĞµÑ

**"Ğ¯ ĞĞš"** Ñ‚ĞµĞ¿ĞµÑ€ Ğ¿Ñ€Ğ°Ñ†ÑÑ” Ğ½Ğ°Ğ²Ñ–Ñ‚ÑŒ Ğ‘Ğ•Ğ— Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ñƒ Ğ·Ğ°Ğ²Ğ´ÑĞºĞ¸ **MeshGram** â€” Ğ´ĞµÑ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ñ–Ğ¹ mesh-Ğ¼ĞµÑ€ĞµĞ¶Ñ– Ñ‡ĞµÑ€ĞµĞ· Wi-Fi Direct, Bluetooth Ñ‚Ğ° LoRa.

### Ğ©Ğ¾ Ñ†Ğµ Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ”:
- âœ… Ğ’Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ÑÑ‚Ğ°Ñ‚ÑƒÑÑƒ "Ğ¯ ĞĞš" Ğ½Ğ°Ğ²Ñ–Ñ‚ÑŒ Ğ±ĞµĞ· Ğ¼Ğ¾Ğ±Ñ–Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ñƒ
- âœ… Ğ“Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ñ– Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ñ‡ĞµÑ€ĞµĞ· mesh-Ğ¼ĞµÑ€ĞµĞ¶Ñƒ (Store & Forward)
- âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ¼Ğ¸ĞºĞ°Ğ½Ğ½Ñ: Ğ†Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚ â†” Mesh
- âœ… Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¾Ğ²Ğ°Ğ½Ğ° Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° Ñ‡ĞµÑ€ĞµĞ· multi-hop routing

---

## ğŸ—ï¸ ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Flutter App: "Ğ¯ ĞĞš + MeshGram"        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  UI Layer (Screens)                             â”‚
â”‚  â”œâ”€ Main Screen (Ğ¯ ĞĞš ĞºĞ½Ğ¾Ğ¿ĞºĞ°)                   â”‚
â”‚  â”œâ”€ Voice Messages                              â”‚
â”‚  â”œâ”€ Contacts & Groups                           â”‚
â”‚  â””â”€ Settings                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Application Layer (Services)                   â”‚
â”‚  â”œâ”€ StatusService (ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ°Ğ¼Ğ¸)        â”‚
â”‚  â”œâ”€ VoiceService (Ğ·Ğ°Ğ¿Ğ¸Ñ/Ğ²Ñ–Ğ´Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ)            â”‚
â”‚  â”œâ”€ ContactsService (ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ¸)                  â”‚
â”‚  â”œâ”€ TransportRouter (Ğ²Ğ¸Ğ±Ñ–Ñ€ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚Ñƒ)          â”‚
â”‚  â””â”€ NotificationService (push + local)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Transport Layer                                â”‚
â”‚  â”œâ”€ FirebaseTransport (Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚)                â”‚
â”‚  â””â”€ MeshGramTransport (Ğ±ĞµĞ· Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ñƒ)           â”‚
â”‚      â”œâ”€ Wi-Fi Direct (Android Nearby)           â”‚
â”‚      â”œâ”€ Bluetooth LE (BLE mesh)                 â”‚
â”‚      â”œâ”€ LoRa (Ğ¾Ğ¿Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, Ñ‡ĞµÑ€ĞµĞ· USB)           â”‚
â”‚      â””â”€ Store & Forward Protocol                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Security Layer (AES-256, Ed25519, DH)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Storage Layer (Hive, Firestore, Encrypted)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ User Flow: Ğ’Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ÑÑ‚Ğ°Ñ‚ÑƒÑÑƒ

### Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ñ–Ğ¹ 1: Ğ„ Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚ â†’ FirebaseTransport
### Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ñ–Ğ¹ 2: ĞĞµĞ¼Ğ°Ñ” Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ñƒ â†’ MeshGramTransport (Store & Forward, multi-hop)
### Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ñ–Ğ¹ 3: Ğ“Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğµ Ñ‡ĞµÑ€ĞµĞ· Mesh â†’ Ğ¿Ğ°ĞºĞµÑ‚Ğ¸ Ğ¿Ğ¾ 256 Ğ±Ğ°Ğ¹Ñ‚, Opus 8 kbps

---

## ğŸ“¦ ĞœĞ¾Ğ´ĞµĞ»Ñ– Ğ´Ğ°Ğ½Ğ¸Ñ…

### CheckinModel (Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğ¹)
- `id`, `userId`, `status` (CheckinStatus), `textMessage?`, `timestamp`
- `transport` (FIREBASE | MESHGRAM | HYBRID)
- `recipientIds`, `readBy`, `voiceMessageId?`
- Mesh: `hopCount?`, `routePath?`, `synced`

### CheckinStatus: OK, BUSY, LATER, HUG

### TransportType: FIREBASE, MESHGRAM, HYBRID, LOCAL_QUEUE

### VoiceMessage, VoicePacket (Ğ³Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ñ–)
### MeshNode (Ğ²ÑƒĞ·Ğ¾Ğ» mesh)
### MeshPacket (Store & Forward)

---

## ğŸŒ MeshGram Transport Protocol

- **Store & Forward:** TTL 24 Ğ³Ğ¾Ğ´, maxHops 10
- **sendMessage:** encrypt â†’ MeshPacket â†’ selectBestNode â†’ send / storeForLater
- **onMessageReceived:** TTL check â†’ for me? decrypt : relay (hopCount++, findNextHop)

---

## ğŸ“Š TransportRouter Logic

1. `forceMeshMode` â†’ MESHGRAM
2. `hasInternet` â†’ FIREBASE
3. `nearbyNodes.isNotEmpty` â†’ MESHGRAM
4. Ñ–Ğ½Ğ°ĞºÑˆĞµ â†’ LOCAL_QUEUE

---

## ğŸš€ Roadmap

- **Phase 1:** Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ¸Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ» (Firebase, Hive, UI) â€” âœ… Ñ–ÑĞ½ÑƒÑÑ‡Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚
- **Phase 2:** MeshGram Core (Wi-Fi Direct, BLE, Store & Forward, Encryption) â€” 6 Ñ‚Ğ¸Ğ¶
- **Phase 3:** Ğ“Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ñ– (Opus, Ğ¿Ğ°ĞºĞµÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ, mesh) â€” 4 Ñ‚Ğ¸Ğ¶
- **Phase 4:** Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ, battery, UI â€” 3 Ñ‚Ğ¸Ğ¶
- **Phase 5:** Launch â€” 1 Ñ‚Ğ¸Ğ¶

---

*ĞŸĞ¾Ğ²Ğ½Ğ° ÑĞ¿ĞµÑ†Ğ¸Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ: Ğ´Ğ¸Ğ². Ğ¾Ñ€Ğ¸Ğ³Ñ–Ğ½Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚. Ğ¦ĞµĞ¹ Ñ„Ğ°Ğ¹Ğ» â€” ÑĞºĞ¾Ñ€Ğ¾Ñ‡ĞµĞ½Ğ° Ğ´Ğ¾Ğ²Ñ–Ğ´ĞºĞ°.*
