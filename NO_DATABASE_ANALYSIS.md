# ü§î –ú–æ–∂–Ω–∞ –æ–±—ñ–π—Ç–∏—Å—è –±–µ–∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö?

**–î–∞—Ç–∞ –∞–Ω–∞–ª—ñ–∑—É:** –°—ñ—á–µ–Ω—å 2026  
**–í–µ—Ä—Å—ñ—è:** 1.0

---

## üìä –ü–æ—Ç–æ—á–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### –©–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∑–∞—Ä–∞–∑:

1. **Firebase Firestore** ‚Äî –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
2. **Cloud Functions** ‚Äî push-—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
3. **Hive (–ª–æ–∫–∞–ª—å–Ω–æ)** ‚Äî –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º
4. **FCM** ‚Äî push-—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è

---

## ‚ùì –ß–∏ –º–æ–∂–Ω–∞ –æ–±—ñ–π—Ç–∏—Å—è –±–µ–∑ –ë–î?

### –ö–æ—Ä–æ—Ç–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: **–ù–Ü, –∞–ª–µ –º–æ–∂–Ω–∞ –º—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏**

–î–ª—è –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –¥–æ–¥–∞—Ç–∫—É –ø–æ—Ç—Ä—ñ–±–Ω–∞ —è–∫–∞—Å—å —Ñ–æ—Ä–º–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, –∞–ª–µ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ **–º—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è**.

---

## üéØ –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏

### –ö—Ä–∏—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ:

1. **Push-—Ç–æ–∫–µ–Ω–∏** ‚Äî –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ —Å–ø–æ–≤—ñ—â–µ–Ω—å
2. **–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤** ‚Äî —Ö—Ç–æ –∫–æ–º—É –º–æ–∂–µ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏
3. **–Ü—Å—Ç–æ—Ä—ñ—è —á–µ–∫-—ñ–Ω—ñ–≤** ‚Äî –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ "–≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –∑–≤'—è–∑–∫—É"
4. **–ü—Ä–æ—Ñ—ñ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤** ‚Äî —ñ–º'—è, email

### –ù–µ–æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –¥–∞–Ω—ñ:

- –°—Ç–∞—Ç—É—Å –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—è (`readBy`)
- –î–µ—Ç–∞–ª—å–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è (–º–æ–∂–Ω–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ)
- –ê–≤–∞—Ç–∞—Ä–∏ (–º–æ–∂–Ω–∞ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ)

---

## üîÑ –í–∞—Ä—ñ–∞–Ω—Ç–∏ –±–µ–∑ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–æ—ó –ë–î

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –¢—ñ–ª—å–∫–∏ FCM + –õ–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ ‚≠ê (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

#### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:

```
–ü—Ä–∏—Å—Ç—Ä—ñ–π A ‚Üí FCM ‚Üí –ü—Ä–∏—Å—Ç—Ä—ñ–π B
         ‚Üì
    –õ–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ (Hive)
```

#### –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ:

1. **FCM –¥–ª—è push-—Å–ø–æ–≤—ñ—â–µ–Ω—å:**
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –æ–±–º—ñ–Ω—é—é—Ç—å—Å—è FCM —Ç–æ–∫–µ–Ω–∞–º–∏
   - –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –Ω–∞–ø—Ä—è–º—É —á–µ—Ä–µ–∑ FCM API
   - –ë–µ–∑ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ

2. **–õ–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ (Hive):**
   - –í—Å—ñ –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
   - –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ push-—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
   - –Ü—Å—Ç–æ—Ä—ñ—è —Ç—ñ–ª—å–∫–∏ –Ω–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó

#### –ü–µ—Ä–µ–≤–∞–≥–∏:

- ‚úÖ –ù–µ–º–∞—î –ë–î –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
- ‚úÖ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏
- ‚úÖ –ü–æ–≤–Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å
- ‚úÖ –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º –ø—Ä–∞—Ü—é—î

#### –ù–µ–¥–æ–ª—ñ–∫–∏:

- ‚ùå –ù–µ–º–∞—î —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ—ó —ñ—Å—Ç–æ—Ä—ñ—ó
- ‚ùå –°–∫–ª–∞–¥–Ω—ñ—à–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ "–≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∑–≤'—è–∑–∫—É"
- ‚ùå –ü–æ—Ç—Ä—ñ–±–µ–Ω —Å–µ—Ä–≤–µ—Ä –¥–ª—è FCM (–∞–ª–µ –±–µ–∑ –ë–î)
- ‚ùå –ù–µ–º–∞—î —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –º—ñ–∂ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

#### –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:

```dart
// –í—ñ–¥–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ FCM –Ω–∞–ø—Ä—è–º—É
Future<void> sendCheckinDirectly({
  required String recipientToken,
  required String status,
  required String senderName,
}) async {
  final response = await http.post(
    Uri.parse('https://fcm.googleapis.com/fcm/send'),
    headers: {
      'Authorization': 'key=YOUR_SERVER_KEY',
      'Content-Type': 'application/json',
    },
    body: jsonEncode({
      'to': recipientToken,
      'notification': {
        'title': '–Ø –û–ö',
        'body': '$senderName: $status',
      },
      'data': {
        'type': 'checkin',
        'status': status,
        'timestamp': DateTime.now().toIso8601String(),
      },
    }),
  );
}
```

---

### –í–∞—Ä—ñ–∞–Ω—Ç 2: Peer-to-Peer (P2P) –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è

#### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:

```
–ü—Ä–∏—Å—Ç—Ä—ñ–π A ‚Üê‚Üí WebRTC/Bluetooth ‚Üê‚Üí –ü—Ä–∏—Å—Ç—Ä—ñ–π B
```

#### –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó:

- **WebRTC** ‚Äî –¥–ª—è —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑'—î–¥–Ω–∞–Ω–Ω—è
- **Bluetooth** ‚Äî –¥–ª—è –æ—Ñ–ª–∞–π–Ω-–∑'—î–¥–Ω–∞–Ω–Ω—è
- **QR-–∫–æ–¥–∏** ‚Äî –¥–ª—è –æ–±–º—ñ–Ω—É –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏

#### –ü–µ—Ä–µ–≤–∞–≥–∏:

- ‚úÖ –ü–æ–≤–Ω—ñ—Å—Ç—é –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
- ‚úÖ –ù–µ–º–∞—î —Å–µ—Ä–≤–µ—Ä–∞ –≤–∑–∞–≥–∞–ª—ñ
- ‚úÖ –ü—Ä–∞—Ü—é—î –æ—Ñ–ª–∞–π–Ω (Bluetooth)

#### –ù–µ–¥–æ–ª—ñ–∫–∏:

- ‚ùå –°–∫–ª–∞–¥–Ω—ñ—à–µ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏
- ‚ùå –ü–æ—Ç—Ä—ñ–±–Ω–∞ –æ–¥–Ω–æ—á–∞—Å–Ω–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –æ–±–æ—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤
- ‚ùå –ù–µ–º–∞—î push-—Å–ø–æ–≤—ñ—â–µ–Ω—å
- ‚ùå –ù–µ–º–∞—î —ñ—Å—Ç–æ—Ä—ñ—ó –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ

#### –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:

```dart
// WebRTC –¥–ª—è P2P
import 'package:flutter_webrtc/flutter_webrtc.dart';

class P2PConnection {
  RTCPeerConnection? peerConnection;
  
  Future<void> sendCheckin({
    required String recipientId,
    required String status,
  }) async {
    // –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ P2P –∑'—î–¥–Ω–∞–Ω–Ω—è
    // –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –¥–∞–Ω—ñ –Ω–∞–ø—Ä—è–º—É
  }
}
```

---

### –í–∞—Ä—ñ–∞–Ω—Ç 3: –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –ë–î (—Ç—ñ–ª—å–∫–∏ —Ç–æ–∫–µ–Ω–∏)

#### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:

```
–ü—Ä–∏—Å—Ç—Ä—ñ–π ‚Üí –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –ë–î (—Ç—ñ–ª—å–∫–∏ —Ç–æ–∫–µ–Ω–∏) ‚Üí FCM ‚Üí –ü—Ä–∏—Å—Ç—Ä—ñ–π
```

#### –©–æ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è:

```json
{
  "users": {
    "user_123": {
      "pushToken": "fcm_token_abc",
      "name": "–Ü–º'—è"
    }
  }
}
```

#### –ü–µ—Ä–µ–≤–∞–≥–∏:

- ‚úÖ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –ë–î (—Ç—ñ–ª—å–∫–∏ —Ç–æ–∫–µ–Ω–∏)
- ‚úÖ –ù–µ–º–∞—î —ñ—Å—Ç–æ—Ä—ñ—ó –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
- ‚úÖ –ü—Ä–æ—Å—Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
- ‚úÖ Push-—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—é—Ç—å

#### –ù–µ–¥–æ–ª—ñ–∫–∏:

- ‚ùå –í—Å–µ –æ–¥–Ω–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ë–î (—Ö–æ—á–∞ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞)
- ‚ùå –ù–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ "–≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –∑–≤'—è–∑–∫—É"
- ‚ùå –ù–µ–º–∞—î —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó

---

### –í–∞—Ä—ñ–∞–Ω—Ç 4: –¢—ñ–ª—å–∫–∏ –ª–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ + QR-–∫–æ–¥–∏

#### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:

```
–ü—Ä–∏—Å—Ç—Ä—ñ–π A ‚Üí QR-–∫–æ–¥ ‚Üí –ü—Ä–∏—Å—Ç—Ä—ñ–π B (—Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è)
         ‚Üì
    –õ–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ
```

#### –Ø–∫ –ø—Ä–∞—Ü—é—î:

1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á A –≥–µ–Ω–µ—Ä—É—î QR-–∫–æ–¥ –∑—ñ —Å–≤–æ—ó–º FCM —Ç–æ–∫–µ–Ω–æ–º
2. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á B —Å–∫–∞–Ω—É—î QR-–∫–æ–¥
3. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á B –∑–±–µ—Ä—ñ–≥–∞—î —Ç–æ–∫–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ
4. –í—ñ–¥–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ FCM –Ω–∞–ø—Ä—è–º—É

#### –ü–µ—Ä–µ–≤–∞–≥–∏:

- ‚úÖ –ù–µ–º–∞—î –ë–î –≤–∑–∞–≥–∞–ª—ñ
- ‚úÖ –ü–æ–≤–Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å
- ‚úÖ –ü—Ä–æ—Å—Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

#### –ù–µ–¥–æ–ª—ñ–∫–∏:

- ‚ùå –ù–µ–º–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
- ‚ùå –ü–æ—Ç—Ä—ñ–±–µ–Ω —Å–µ—Ä–≤–µ—Ä –¥–ª—è FCM
- ‚ùå –ù–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ "–≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –∑–≤'—è–∑–∫—É"

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤

| –í–∞—Ä—ñ–∞–Ω—Ç | –ë–î –ø–æ—Ç—Ä—ñ–±–Ω–∞? | –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å | –ü—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å | Push | –û—Ñ–ª–∞–π–Ω | –Ü—Å—Ç–æ—Ä—ñ—è |
|---------|--------------|------------|-------------|------|--------|---------|
| **–ü–æ—Ç–æ—á–Ω–∞ (Firestore)** | ‚úÖ –¢–∞–∫ | –°–µ—Ä–µ–¥–Ω—è | –í–∏—Å–æ–∫–∞ | ‚úÖ | ‚úÖ | ‚úÖ |
| **FCM + –õ–æ–∫–∞–ª—å–Ω–µ** | ‚ùå –ù—ñ | –ù–∏–∑—å–∫–∞ | –î—É–∂–µ –≤–∏—Å–æ–∫–∞ | ‚úÖ | ‚úÖ | ‚ùå |
| **P2P (WebRTC)** | ‚ùå –ù—ñ | –í–∏—Å–æ–∫–∞ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ | ‚ùå | ‚úÖ | ‚ùå |
| **–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –ë–î** | ‚úÖ –¢–∞–∫ (–º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞) | –ù–∏–∑—å–∫–∞ | –í–∏—Å–æ–∫–∞ | ‚úÖ | ‚ùå | ‚ùå |
| **QR-–∫–æ–¥–∏** | ‚ùå –ù—ñ | –ù–∏–∑—å–∫–∞ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ | ‚úÖ | ‚ùå | ‚ùå |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è

### –î–ª—è MVP: **–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –ë–î (–í–∞—Ä—ñ–∞–Ω—Ç 3)**

#### –ß–æ–º—É:

1. **–ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ:**
   - –¢—ñ–ª—å–∫–∏ push-—Ç–æ–∫–µ–Ω–∏
   - –¢—ñ–ª—å–∫–∏ —ñ–º–µ–Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
   - –ù–µ–º–∞—î —ñ—Å—Ç–æ—Ä—ñ—ó –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ

2. **–ü—Ä–æ—Å—Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
   - –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏ –≤ –∫–æ–¥—ñ
   - –®–≤–∏–¥–∫–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫
   - –ù–∏–∑—å–∫—ñ –≤–∏—Ç—Ä–∞—Ç–∏

3. **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
   - Push-—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—é—Ç—å
   - –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º (–ª–æ–∫–∞–ª—å–Ω–æ)
   - –ü—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω–∞

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—ó –ë–î:

```json
{
  "users": {
    "user_123": {
      "pushToken": "fcm_token_abc",
      "name": "–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞",
      "createdAt": "2026-01-15T10:00:00Z"
    }
  },
  "contacts": {
    "user_123": {
      "user_456": true,  // –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á 123 –º–∞—î –∫–æ–Ω—Ç–∞–∫—Ç 456
      "user_789": true
    }
  }
}
```

#### –©–æ –ù–ï –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è:

- ‚ùå –Ü—Å—Ç–æ—Ä—ñ—è —á–µ–∫-—ñ–Ω—ñ–≤ (—Ç—ñ–ª—å–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ)
- ‚ùå –°—Ç–∞—Ç—É—Å –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—è
- ‚ùå –ú–µ—Ç–∞–¥–∞–Ω—ñ
- ‚ùå –ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è

---

## üîÑ –ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ (–ù–∞–π–∫—Ä–∞—â–∏–π)

### –ö–æ–º–±—ñ–Ω–∞—Ü—ñ—è: –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –ë–î + –õ–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ

#### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –õ–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ (Hive)            ‚îÇ
‚îÇ  - –í—Å—ñ —á–µ–∫-—ñ–Ω–∏                      ‚îÇ
‚îÇ  - –Ü—Å—Ç–æ—Ä—ñ—è                          ‚îÇ
‚îÇ  - –ö–æ–Ω—Ç–∞–∫—Ç–∏                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üï –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –ë–î (Firestore)          ‚îÇ
‚îÇ  - Push-—Ç–æ–∫–µ–Ω–∏                      ‚îÇ
‚îÇ  - –Ü–º–µ–Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤               ‚îÇ
‚îÇ  - –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üï Push
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  FCM                                 ‚îÇ
‚îÇ  - –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### –ü–µ—Ä–µ–≤–∞–≥–∏:

- ‚úÖ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –ë–î (—Ç—ñ–ª—å–∫–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–µ)
- ‚úÖ –í—Å—è —ñ—Å—Ç–æ—Ä—ñ—è –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ Push-—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—é—Ç—å
- ‚úÖ –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π
- ‚úÖ –ü—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω–∞

#### –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:

```dart
// –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –º–æ–¥–µ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
class MinimalUserModel {
  final String id;
  final String name;
  final String? pushToken;
  
  // –í–°–ï –Ü–ù–®–ï –ª–æ–∫–∞–ª—å–Ω–æ
}

// –õ–æ–∫–∞–ª—å–Ω–∞ –º–æ–¥–µ–ª—å —á–µ–∫-—ñ–Ω—É
class LocalCheckinModel {
  final String id;
  final String userId;
  final String status;
  final DateTime timestamp;
  final List<String> recipientIds;
  
  // –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ
}
```

---

## üí∞ –í–∞—Ä—Ç—ñ—Å—Ç—å

### –ü–æ—Ç–æ—á–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ (Firestore):

- **Firestore:** ~$0.06 –∑–∞ 100K –æ–ø–µ—Ä–∞—Ü—ñ–π —á–∏—Ç–∞–Ω–Ω—è
- **Cloud Functions:** ~$0.40 –∑–∞ 1M –≤–∏–∫–ª–∏–∫—ñ–≤
- **FCM:** –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ
- **–ó–∞–≥–∞–ª–æ–º:** ~$5-10/–º—ñ—Å—è—Ü—å –¥–ª—è 1000 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –ë–î:

- **Firestore:** ~$0.02 –∑–∞ 100K –æ–ø–µ—Ä–∞—Ü—ñ–π (–º–µ–Ω—à–µ –¥–∞–Ω–∏—Ö)
- **Cloud Functions:** ~$0.20 –∑–∞ 1M –≤–∏–∫–ª–∏–∫—ñ–≤ (–ø—Ä–æ—Å—Ç—ñ—à—ñ)
- **FCM:** –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ
- **–ó–∞–≥–∞–ª–æ–º:** ~$2-5/–º—ñ—Å—è—Ü—å –¥–ª—è 1000 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### –ë–µ–∑ –ë–î (—Ç—ñ–ª—å–∫–∏ FCM):

- **FCM:** –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ
- **–°–µ—Ä–≤–µ—Ä –¥–ª—è FCM:** ~$5-10/–º—ñ—Å—è—Ü—å (VPS)
- **–ó–∞–≥–∞–ª–æ–º:** ~$5-10/–º—ñ—Å—è—Ü—å

---

## üéØ –í–∏—Å–Ω–æ–≤–æ–∫

### –ß–∏ –º–æ–∂–Ω–∞ –æ–±—ñ–π—Ç–∏—Å—è –±–µ–∑ –ë–î?

**–¢–µ—Ö–Ω—ñ—á–Ω–æ ‚Äî –¢–ê–ö**, –∞–ª–µ –∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏:

1. **–ë–µ–∑ –ë–î –≤–∑–∞–≥–∞–ª—ñ:**
   - ‚ùå –ù–µ–º–∞—î push-—Å–ø–æ–≤—ñ—â–µ–Ω—å (–ø–æ—Ç—Ä—ñ–±–µ–Ω —Å–µ—Ä–≤–µ—Ä)
   - ‚ùå –ù–µ–º–∞—î —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –º—ñ–∂ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏
   - ‚ùå –ù–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ "–≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –∑–≤'—è–∑–∫—É"
   - ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å

2. **–ó –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—é –ë–î:**
   - ‚úÖ Push-—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—é—Ç—å
   - ‚úÖ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
   - ‚úÖ –í—Å—è —ñ—Å—Ç–æ—Ä—ñ—è –ª–æ–∫–∞–ª—å–Ω–æ
   - ‚úÖ –ù–∏–∑—å–∫—ñ –≤–∏—Ç—Ä–∞—Ç–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É –ë–î** (—Ç—ñ–ª—å–∫–∏ push-—Ç–æ–∫–µ–Ω–∏ —Ç–∞ —ñ–º–µ–Ω–∞) + **–ª–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ** –¥–ª—è –≤—Å—å–æ–≥–æ —ñ–Ω—à–æ–≥–æ.

–¶–µ –¥–∞—î:
- ‚úÖ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
- ‚úÖ –ü–æ–≤–Ω—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
- ‚úÖ –ù–∏–∑—å–∫—ñ –≤–∏—Ç—Ä–∞—Ç–∏
- ‚úÖ –í–∏—Å–æ–∫—É –ø—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å

---

## üìù –ü–ª–∞–Ω –º—ñ–≥—Ä–∞—Ü—ñ—ó –Ω–∞ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É –ë–î

### –ö—Ä–æ–∫ 1: –°–ø—Ä–æ—Å—Ç–∏—Ç–∏ –º–æ–¥–µ–ª—ñ

```dart
// –ë—É–ª–æ:
class UserModel {
  final String id;
  final String name;
  final String email;
  final String? phone;
  final DateTime createdAt;
  final List<String> contactIds;
}

// –°—Ç–∞–ª–æ:
class MinimalUserModel {
  final String id;
  final String name;
  final String? pushToken;
}
```

### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –ª–æ–∫–∞–ª—å–Ω–æ

```dart
// –í—Å—ñ —á–µ–∫-—ñ–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ
class LocalStorageService {
  Future<void> saveCheckin(CheckinModel checkin) async {
    // –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ Hive
    // –ù–ï –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  }
}
```

### –ö—Ä–æ–∫ 3: –°–ø—Ä–æ—Å—Ç–∏—Ç–∏ Cloud Functions

```javascript
// –ë—É–ª–æ: —Å–∫–ª–∞–¥–Ω—ñ –∑–∞–ø–∏—Ç–∏ –¥–æ Firestore
// –°—Ç–∞–ª–æ: —Ç—ñ–ª—å–∫–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤ —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ push
```

---

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** –°—ñ—á–µ–Ω—å 2026  
**–í–µ—Ä—Å—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0

---

**–ó—Ä–æ–±–ª–µ–Ω–æ –≤ –£–∫—Ä–∞—ó–Ω—ñ üá∫üá¶**
